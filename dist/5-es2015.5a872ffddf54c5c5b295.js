(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"8Zpt":function(e,t,i){"use strict";i.d(t,"a",function(){return P}),i.d(t,"b",function(){return D}),i.d(t,"c",function(){return p}),i.d(t,"d",function(){return v}),i.d(t,"e",function(){return b}),i.d(t,"f",function(){return x}),i.d(t,"g",function(){return S}),i.d(t,"h",function(){return w}),i.d(t,"i",function(){return y}),i.d(t,"j",function(){return I}),i.d(t,"k",function(){return C}),i.d(t,"l",function(){return k}),i.d(t,"m",function(){return f});var s=i("8Y7J"),n=i("s7LF"),l=i("SVse"),r=i("XNiG"),a=i("aCrv"),o=i("Kj3r"),h=i("/uUt"),c=i("vkgz");class d{constructor(e,t){this.status=e,this.body=t}}class p{constructor(e){this._elementRef=e,this.clickOutside=new s.EventEmitter}onClick(e,t){if(!t)return;this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e)}}p.decorators=[{type:s.Directive,args:[{selector:"[clickOutside]"}]}],p.ctorParameters=(()=>[{type:s.ElementRef}]),p.propDecorators={clickOutside:[{type:s.Output}],onClick:[{type:s.HostListener,args:["document:click",["$event","$event.target"]]},{type:s.HostListener,args:["document:touchstart",["$event","$event.target"]]}]};class u{constructor(e){this._elementRef=e,this.scroll=new s.EventEmitter}onClick(e,t){this.scroll.emit(e)}}u.decorators=[{type:s.Directive,args:[{selector:"[scroll]"}]}],u.ctorParameters=(()=>[{type:s.ElementRef}]),u.propDecorators={scroll:[{type:s.Output}],onClick:[{type:s.HostListener,args:["scroll",["$event"]]}]};class g{constructor(e){this.el=e}ngOnInit(){this.el.nativeElement.style.top=this.styleVal}ngOnChanges(){this.el.nativeElement.style.top=this.styleVal}}g.decorators=[{type:s.Directive,args:[{selector:"[styleProp]"}]}],g.ctorParameters=(()=>[{type:s.ElementRef}]),g.propDecorators={styleVal:[{type:s.Input,args:["styleProp"]}]};class m{constructor(e){this.el=e}ngOnInit(){this.height&&(this.el.nativeElement.style.bottom=parseInt(this.height+15+"")+"px")}ngOnChanges(){this.height&&(this.el.nativeElement.style.bottom=parseInt(this.height+15+"")+"px")}}m.decorators=[{type:s.Directive,args:[{selector:"[setPosition]"}]}],m.ctorParameters=(()=>[{type:s.ElementRef}]),m.propDecorators={height:[{type:s.Input,args:["setPosition"]}]};class f{constructor(){this.filteredData=[],this.subject=new r.b}setData(e){this.filteredData=e,this.subject.next(e)}getData(){return this.subject.asObservable()}getFilteredData(){return this.filteredData&&this.filteredData.length>0?this.filteredData:[]}}f.decorators=[{type:s.Injectable}];class b{constructor(e){this.ds=e,this.filteredList=[]}transform(e,t,i){return e&&t?(this.filteredList=e.filter(e=>this.applyFilter(e,t,i)),this.ds.setData(this.filteredList),this.filteredList):(this.ds.setData(e),e)}applyFilter(e,t,i){let s=!1;if(i.length>0)if(e.grpTitle)s=!0;else for(var n=0;n<i.length;n++)t&&e[i[n]]&&""!=e[i[n]]&&e[i[n]].toString().toLowerCase().indexOf(t.toLowerCase())>=0&&(s=!0);else if(e.grpTitle)s=!0;else for(var l in e)t&&e[l]&&e[l].toString().toLowerCase().indexOf(t.toLowerCase())>=0&&(s=!0);return s}}b.decorators=[{type:s.Pipe,args:[{name:"listFilter",pure:!0}]}],b.ctorParameters=(()=>[{type:f}]);class v{constructor(){}}v.decorators=[{type:s.Component,args:[{selector:"c-item",template:""}]}],v.ctorParameters=(()=>[]),v.propDecorators={template:[{type:s.ContentChild,args:[s.TemplateRef,{static:!0}]}]};class S{constructor(){}}S.decorators=[{type:s.Component,args:[{selector:"c-badge",template:""}]}],S.ctorParameters=(()=>[]),S.propDecorators={template:[{type:s.ContentChild,args:[s.TemplateRef,{static:!0}]}]};class w{constructor(){}}w.decorators=[{type:s.Component,args:[{selector:"c-search",template:""}]}],w.ctorParameters=(()=>[]),w.propDecorators={template:[{type:s.ContentChild,args:[s.TemplateRef,{static:!0}]}]};class x{constructor(e){this.viewContainer=e}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.data.template,{$implicit:this.data,item:this.item})}ngOnDestroy(){this.view.destroy()}}x.decorators=[{type:s.Component,args:[{selector:"c-templateRenderer",template:""}]}],x.ctorParameters=(()=>[{type:s.ViewContainerRef}]),x.propDecorators={data:[{type:s.Input}],item:[{type:s.Input}]};class y{}function I(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}y.decorators=[{type:s.Component,args:[{selector:"c-icon",template:'<svg *ngIf="name == \'remove\'" width="100%" height="100%" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                        viewBox="0 0 47.971 47.971" style="enable-background:new 0 0 47.971 47.971;" xml:space="preserve">\n                        <g>\n                            <path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\n                                c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\n                                C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\n                                s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"/>\n                        </g>\n                    </svg>\n            <svg *ngIf="name == \'angle-down\'" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="100%" height="100%" viewBox="0 0 612 612" style="enable-background:new 0 0 612 612;" xml:space="preserve">\n<g>\n\t<g id="_x31_0_34_">\n\t\t<g>\n\t\t\t<path d="M604.501,134.782c-9.999-10.05-26.222-10.05-36.221,0L306.014,422.558L43.721,134.782\n\t\t\t\tc-9.999-10.05-26.223-10.05-36.222,0s-9.999,26.35,0,36.399l279.103,306.241c5.331,5.357,12.422,7.652,19.386,7.296\n\t\t\t\tc6.988,0.356,14.055-1.939,19.386-7.296l279.128-306.268C614.5,161.106,614.5,144.832,604.501,134.782z"/>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n<svg *ngIf="name == \'angle-up\'" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="100%" height="100%" viewBox="0 0 612 612" style="enable-background:new 0 0 612 612;" xml:space="preserve">\n<g>\n\t<g id="_x39__30_">\n\t\t<g>\n\t\t\t<path d="M604.501,440.509L325.398,134.956c-5.331-5.357-12.423-7.627-19.386-7.27c-6.989-0.357-14.056,1.913-19.387,7.27\n\t\t\t\tL7.499,440.509c-9.999,10.024-9.999,26.298,0,36.323s26.223,10.024,36.222,0l262.293-287.164L568.28,476.832\n\t\t\t\tc9.999,10.024,26.222,10.024,36.221,0C614.5,466.809,614.5,450.534,604.501,440.509z"/>\n\t\t</g>\n\t</g>\n</g>\n\n</svg>\n<svg *ngIf="name == \'search\'" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="100%" height="100%" viewBox="0 0 615.52 615.52" style="enable-background:new 0 0 615.52 615.52;"\n\t xml:space="preserve">\n<g>\n\t<g>\n\t\t<g id="Search__x28_and_thou_shall_find_x29_">\n\t\t\t<g>\n\t\t\t\t<path d="M602.531,549.736l-184.31-185.368c26.679-37.72,42.528-83.729,42.528-133.548C460.75,103.35,357.997,0,231.258,0\n\t\t\t\t\tC104.518,0,1.765,103.35,1.765,230.82c0,127.47,102.753,230.82,229.493,230.82c49.53,0,95.271-15.944,132.78-42.777\n\t\t\t\t\tl184.31,185.366c7.482,7.521,17.292,11.291,27.102,11.291c9.812,0,19.62-3.77,27.083-11.291\n\t\t\t\t\tC617.496,589.188,617.496,564.777,602.531,549.736z M355.9,319.763l-15.042,21.273L319.7,356.174\n\t\t\t\t\tc-26.083,18.658-56.667,28.526-88.442,28.526c-84.365,0-152.995-69.035-152.995-153.88c0-84.846,68.63-153.88,152.995-153.88\n\t\t\t\t\ts152.996,69.034,152.996,153.88C384.271,262.769,374.462,293.526,355.9,319.763z"/>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n\n</svg>\n<svg *ngIf="name == \'clear\'" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 51.976 51.976" style="enable-background:new 0 0 51.976 51.976;" xml:space="preserve">\n<g>\n\t<path d="M44.373,7.603c-10.137-10.137-26.632-10.138-36.77,0c-10.138,10.138-10.137,26.632,0,36.77s26.632,10.138,36.77,0\n\t\tC54.51,34.235,54.51,17.74,44.373,7.603z M36.241,36.241c-0.781,0.781-2.047,0.781-2.828,0l-7.425-7.425l-7.778,7.778\n\t\tc-0.781,0.781-2.047,0.781-2.828,0c-0.781-0.781-0.781-2.047,0-2.828l7.778-7.778l-7.425-7.425c-0.781-0.781-0.781-2.048,0-2.828\n\t\tc0.781-0.781,2.047-0.781,2.828,0l7.425,7.425l7.071-7.071c0.781-0.781,2.047-0.781,2.828,0c0.781,0.781,0.781,2.047,0,2.828\n\t\tl-7.071,7.071l7.425,7.425C37.022,34.194,37.022,35.46,36.241,36.241z"/>\n</g>\n</svg>',encapsulation:s.ViewEncapsulation.None}]}],y.propDecorators={name:[{type:s.Input}]};class C{constructor(e,t,i,n,r,a){this.element=e,this.renderer=t,this.zone=i,this.changeDetectorRef=n,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=((e,t)=>e===t),this.vsUpdate=new s.EventEmitter,this.vsChange=new s.EventEmitter,this.vsStart=new s.EventEmitter,this.vsEnd=new s.EventEmitter,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=Object(l.C)(r),this.scrollThrottlingTime=a.scrollThrottlingTime,this.scrollDebounceTime=a.scrollDebounceTime,this.scrollAnimationTime=a.scrollAnimationTime,this.scrollbarWidth=a.scrollbarWidth,this.scrollbarHeight=a.scrollbarHeight,this.checkResizeInterval=a.checkResizeInterval,this.resizeBypassRefreshThreshold=a.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=a.modifyOverflowStyleOfParentScroll,this.stripedTable=a.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}get viewPortInfo(){let e=this.previousViewPort||{};return{startIndex:e.startIndex||0,endIndex:e.endIndex||0,scrollStartPosition:e.scrollStartPosition||0,scrollEndPosition:e.scrollEndPosition||0,maxScrollPosition:e.maxScrollPosition||0,startIndexWithBuffer:e.startIndexWithBuffer||0,endIndexWithBuffer:e.endIndexWithBuffer||0}}get enableUnequalChildrenSizes(){return this._enableUnequalChildrenSizes}set enableUnequalChildrenSizes(e){this._enableUnequalChildrenSizes!==e&&(this._enableUnequalChildrenSizes=e,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}get bufferAmount(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0}set bufferAmount(e){this._bufferAmount=e}get scrollThrottlingTime(){return this._scrollThrottlingTime}set scrollThrottlingTime(e){this._scrollThrottlingTime=e,this.updateOnScrollFunction()}get scrollDebounceTime(){return this._scrollDebounceTime}set scrollDebounceTime(e){this._scrollDebounceTime=e,this.updateOnScrollFunction()}updateOnScrollFunction(){this.scrollDebounceTime?this.onScroll=this.debounce(()=>{this.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.onScroll=this.throttleTrailing(()=>{this.refresh_internal(!1)},this.scrollThrottlingTime):this.onScroll=(()=>{this.refresh_internal(!1)})}get checkResizeInterval(){return this._checkResizeInterval}set checkResizeInterval(e){this._checkResizeInterval!==e&&(this._checkResizeInterval=e,this.addScrollEventHandlers())}get items(){return this._items}set items(e){e!==this._items&&(this._items=e||[],this.refresh_internal(!0))}get horizontal(){return this._horizontal}set horizontal(e){this._horizontal=e,this.updateDirection()}revertParentOverscroll(){const e=this.getScrollElement();e&&this.oldParentScrollOverflow&&(e.style["overflow-y"]=this.oldParentScrollOverflow.y,e.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}get parentScroll(){return this._parentScroll}set parentScroll(e){if(this._parentScroll===e)return;this.revertParentOverscroll(),this._parentScroll=e,this.addScrollEventHandlers();const t=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&t!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:t.style["overflow-x"],y:t.style["overflow-y"]},t.style["overflow-y"]=this.horizontal?"visible":"auto",t.style["overflow-x"]=this.horizontal?"auto":"visible")}ngOnInit(){this.addScrollEventHandlers()}ngOnDestroy(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}ngOnChanges(e){let t=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length;const i=!e.items||!e.items.previousValue||0===e.items.previousValue.length;this.refresh_internal(t||i)}ngDoCheck(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){let e=!1;for(let t=0;t<this.viewPortItems.length;++t)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+t],this.viewPortItems[t])){e=!0;break}e&&this.refresh_internal(!0)}}refresh(){this.refresh_internal(!0)}invalidateAllCachedMeasurements(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}invalidateCachedMeasurementForItem(e){if(this.enableUnequalChildrenSizes){let t=this.items&&this.items.indexOf(e);t>=0&&this.invalidateCachedMeasurementAtIndex(t)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}invalidateCachedMeasurementAtIndex(e){if(this.enableUnequalChildrenSizes){let t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e];t&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=t.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=t.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}scrollInto(e,t=!0,i=0,s,n){let l=this.items.indexOf(e);-1!==l&&this.scrollToIndex(l,t,i,s,n)}scrollToIndex(e,t=!0,i=0,s,n){let l=5,r=()=>{if(--l<=0)return void(n&&n());let s=this.calculateDimensions(),a=Math.min(Math.max(e,0),s.itemCount-1);this.previousViewPort.startIndex!==a?this.scrollToIndex_internal(e,t,i,0,r):n&&n()};this.scrollToIndex_internal(e,t,i,s,r)}scrollToIndex_internal(e,t=!0,i=0,s,n){s=void 0===s?this.scrollAnimationTime:s;let l=this.calculateDimensions(),r=this.calculatePadding(e,l)+i;t||(r-=l.wrapGroupsPerPage*l[this._childScrollDim]),this.scrollToPosition(r,s,n)}scrollToPosition(e,t,i){e+=this.getElementsOffset(),t=void 0===t?this.scrollAnimationTime:t;let s,n=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!t)return this.renderer.setProperty(n,this._scrollType,e),void this.refresh_internal(!1,i);const l={scrollPosition:n[this._scrollType]};let r=new a.Tween(l).to({scrollPosition:e},t).easing(a.Easing.Quadratic.Out).onUpdate(e=>{isNaN(e.scrollPosition)||(this.renderer.setProperty(n,this._scrollType,e.scrollPosition),this.refresh_internal(!1))}).onStop(()=>{cancelAnimationFrame(s)}).start();const o=t=>{r.isPlaying()&&(r.update(t),l.scrollPosition!==e?this.zone.runOutsideAngular(()=>{s=requestAnimationFrame(o)}):this.refresh_internal(!1,i))};o(),this.currentTween=r}getElementSize(e){let t=e.getBoundingClientRect(),i=getComputedStyle(e),s=parseInt(i["margin-top"],10)||0,n=parseInt(i["margin-bottom"],10)||0,l=parseInt(i["margin-left"],10)||0,r=parseInt(i["margin-right"],10)||0;return{top:t.top+s,bottom:t.bottom+n,left:t.left+l,right:t.right+r,width:t.width+l+r,height:t.height+s+n}}checkScrollElementResized(){let e,t=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){let i=Math.abs(t.width-this.previousScrollBoundingRect.width),s=Math.abs(t.height-this.previousScrollBoundingRect.height);e=i>this.resizeBypassRefreshThreshold||s>this.resizeBypassRefreshThreshold}else e=!0;e&&(this.previousScrollBoundingRect=t,t.width>0&&t.height>0&&this.refresh_internal(!1))}updateDirection(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")}debounce(e,t){const i=this.throttleTrailing(e,t),s=function(){i.cancel(),i.apply(this,arguments)};return s.cancel=function(){i.cancel()},s}throttleTrailing(e,t){let i=void 0,s=arguments;const n=function(){const n=this;s=arguments,i||(t<=0?e.apply(n,s):i=setTimeout(function(){i=void 0,e.apply(n,s)},t))};return n.cancel=function(){i&&(clearTimeout(i),i=void 0)},n}refresh_internal(e,t,i=2){if(e&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){let e=this.previousViewPort,i=this.viewPortItems,s=t;t=(()=>{let t=this.previousViewPort.scrollLength-e.scrollLength;if(t>0&&this.viewPortItems){let e=i[0],n=this.items.findIndex(t=>this.compareItems(e,t));if(n>this.previousViewPort.startIndexWithBuffer){let e=!1;for(let t=1;t<this.viewPortItems.length;++t)if(!this.compareItems(this.items[n+t],i[t])){e=!0;break}if(!e)return void this.scrollToPosition(this.previousViewPort.scrollStartPosition+t,0,s)}}s&&s()})}this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e&&this.resetWrapGroupDimensions();let s=this.calculateViewport(),n=e||s.startIndex!==this.previousViewPort.startIndex,l=e||s.endIndex!==this.previousViewPort.endIndex,r=s.scrollLength!==this.previousViewPort.scrollLength,a=s.padding!==this.previousViewPort.padding,o=s.scrollStartPosition!==this.previousViewPort.scrollStartPosition||s.scrollEndPosition!==this.previousViewPort.scrollEndPosition||s.maxScrollPosition!==this.previousViewPort.maxScrollPosition;if(this.previousViewPort=s,r&&this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,this._invisiblePaddingProperty,`${s.scrollLength}px`),a&&(this.useMarginInsteadOfTranslate?this.renderer.setStyle(this.contentElementRef.nativeElement,this._marginDir,`${s.padding}px`):(this.renderer.setStyle(this.contentElementRef.nativeElement,"transform",`${this._translateDir}(${s.padding}px)`),this.renderer.setStyle(this.contentElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${s.padding}px)`))),this.headerElementRef){let e=this.getScrollElement()[this._scrollType],t=this.getElementsOffset(),i=Math.max(e-s.padding-t+this.headerElementRef.nativeElement.clientHeight,0);this.renderer.setStyle(this.headerElementRef.nativeElement,"transform",`${this._translateDir}(${i}px)`),this.renderer.setStyle(this.headerElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${i}px)`)}const h=n||l?{startIndex:s.startIndex,endIndex:s.endIndex,scrollStartPosition:s.scrollStartPosition,scrollEndPosition:s.scrollEndPosition,startIndexWithBuffer:s.startIndexWithBuffer,endIndexWithBuffer:s.endIndexWithBuffer,maxScrollPosition:s.maxScrollPosition}:void 0;if(n||l||o){const e=()=>{this.viewPortItems=s.startIndexWithBuffer>=0&&s.endIndexWithBuffer>=0?this.items.slice(s.startIndexWithBuffer,s.endIndexWithBuffer+1):[],this.vsUpdate.emit(this.viewPortItems),n&&this.vsStart.emit(h),l&&this.vsEnd.emit(h),(n||l)&&(this.changeDetectorRef.markForCheck(),this.vsChange.emit(h)),i>0?this.refresh_internal(!1,t,i-1):t&&t()};this.executeRefreshOutsideAngularZone?e():this.zone.run(e)}else{if(i>0&&(r||a))return void this.refresh_internal(!1,t,i-1);t&&t()}})})}getScrollElement(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}addScrollEventHandlers(){if(this.isAngularUniversalSSR)return;let e=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(()=>{this.parentScroll instanceof Window?(this.disposeScrollHandler=this.renderer.listen("window","scroll",this.onScroll),this.disposeResizeHandler=this.renderer.listen("window","resize",this.onScroll)):(this.disposeScrollHandler=this.renderer.listen(e,"scroll",this.onScroll),this._checkResizeInterval>0&&(this.checkScrollElementResizedTimer=setInterval(()=>{this.checkScrollElementResized()},this._checkResizeInterval)))})}removeScrollEventHandlers(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}getElementsOffset(){if(this.isAngularUniversalSSR)return 0;let e=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(e+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){let t=this.getScrollElement(),i=this.getElementSize(this.element.nativeElement),s=this.getElementSize(t);this.horizontal?e+=i.left-s.left:e+=i.top-s.top,this.parentScroll instanceof Window||(e+=t[this._scrollType])}return e}countItemsPerWrapGroup(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);let e=this.horizontal?"offsetLeft":"offsetTop",t=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,i=t?t.length:0;if(0===i)return 1;let s=t[0][e],n=1;for(;n<i&&s===t[n][e];)++n;return n}getScrollStartPosition(){let e=void 0;return this.parentScroll instanceof Window&&(e=window[this._pageOffsetType]),e||this.getScrollElement()[this._scrollType]||0}resetWrapGroupDimensions(){const e=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),!this.enableUnequalChildrenSizes||!e||0===e.numberOfKnownWrapGroupChildSizes)return;const t=this.countItemsPerWrapGroup();for(let i=0;i<e.maxChildSizePerWrapGroup.length;++i){const s=e.maxChildSizePerWrapGroup[i];if(!s||!s.items||!s.items.length)continue;if(s.items.length!==t)return;let n=!1,l=t*i;for(let e=0;e<t;++e)if(!this.compareItems(s.items[e],this.items[l+e])){n=!0;break}n||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=s.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=s.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[i]=s)}}calculateDimensions(){let e=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(e.offsetHeight-e.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(e.offsetWidth-e.clientWidth,25),this.calculatedScrollbarWidth);let t,i,s,n=e.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),l=e.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),r=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,a=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){n=this.ssrViewportWidth,l=this.ssrViewportHeight,i=this.ssrChildWidth,s=this.ssrChildHeight;let e=Math.max(Math.ceil(n/i),1),r=Math.max(Math.ceil(l/s),1);t=this.horizontal?e:r}else if(this.enableUnequalChildrenSizes){let o=e[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),h=this.previousViewPort.startIndexWithBuffer||0,c=Math.ceil(h/a),d=0,p=0,u=0,g=0;t=0;for(let e=0;e<r.children.length;++e){++h;let i=r.children[e],s=this.getElementSize(i);if(d=Math.max(d,s.width),p=Math.max(p,s.height),h%a==0){let e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[c];e&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;const i=this.items.slice(h-a,h);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[c]={childWidth:d,childHeight:p,items:i},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=d,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=p,this.horizontal){let e=Math.min(d,Math.max(n-u,0));if(o>0){let t=Math.min(o,e);e-=t,o-=t}u+=e,e>0&&n>=u&&++t}else{let e=Math.min(p,Math.max(l-g,0));if(o>0){let t=Math.min(o,e);e-=t,o-=t}g+=e,e>0&&l>=g&&++t}++c,d=0,p=0}}let m=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,f=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;i=this.childWidth||m||n,s=this.childHeight||f||l,this.horizontal?n>u&&(t+=Math.ceil((n-u)/i)):l>g&&(t+=Math.ceil((l-g)/s))}else{if(r.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&n>0&&(this.minMeasuredChildWidth=n),!this.minMeasuredChildHeight&&l>0&&(this.minMeasuredChildHeight=l));let e=r.children[0],t=this.getElementSize(e);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,t.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,t.height)}i=this.childWidth||this.minMeasuredChildWidth||n,s=this.childHeight||this.minMeasuredChildHeight||l;let e=Math.max(Math.ceil(n/i),1),a=Math.max(Math.ceil(l/s),1);t=this.horizontal?e:a}let o=this.items.length,h=a*t,c=o/h,d=Math.ceil(o/a),p=0,u=this.horizontal?i:s;if(this.enableUnequalChildrenSizes){let e=0;for(let t=0;t<d;++t){let i=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[t][this._childScrollDim];i?p+=i:++e}p+=Math.round(e*u)}else p=d*u;this.headerElementRef&&(p+=this.headerElementRef.nativeElement.clientHeight);let g=this.horizontal?n:l;return{itemCount:o,itemsPerWrapGroup:a,wrapGroupsPerPage:t,itemsPerPage:h,pageCount_fractional:c,childWidth:i,childHeight:s,scrollLength:p,viewportLength:g,maxScrollPosition:Math.max(p-g,0)}}calculatePadding(e,t){if(0===t.itemCount)return 0;let i=t[this._childScrollDim],s=Math.floor(e/t.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return i*s;let n=0,l=0;for(let r=0;r<s;++r){let e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim];e?l+=e:++n}return l+=Math.round(n*i)}calculatePageInfo(e,t){let i=0;if(this.enableUnequalChildrenSizes){const s=Math.ceil(t.itemCount/t.itemsPerWrapGroup);let n=0,l=t[this._childScrollDim];for(let t=0;t<s;++t){let r=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[t][this._childScrollDim];if(e<(n+=r||l)){i=t/s;break}}}else i=e/t.scrollLength;let s=Math.min(Math.max(i*t.pageCount_fractional,0),t.pageCount_fractional)*t.itemsPerPage,n=t.itemCount-t.itemsPerPage-1,l=Math.min(Math.floor(s),n);if(l-=l%t.itemsPerWrapGroup,this.stripedTable){let e=2*t.itemsPerWrapGroup;l%e!=0&&(l=Math.max(l-l%e,0))}let r=Math.ceil(s)+t.itemsPerPage-1,a=(r+1)%t.itemsPerWrapGroup;a>0&&(r+=t.itemsPerWrapGroup-a),isNaN(l)&&(l=0),isNaN(r)&&(r=0),l=Math.min(Math.max(l,0),t.itemCount-1),r=Math.min(Math.max(r,0),t.itemCount-1);let o=this.bufferAmount*t.itemsPerWrapGroup;return{startIndex:l,endIndex:r,startIndexWithBuffer:Math.min(Math.max(l-o,0),t.itemCount-1),endIndexWithBuffer:Math.min(Math.max(r+o,0),t.itemCount-1),scrollStartPosition:e,scrollEndPosition:e+t.viewportLength,maxScrollPosition:t.maxScrollPosition}}calculateViewport(){let e=this.calculateDimensions(),t=this.getElementsOffset(),i=this.getScrollStartPosition();i>e.scrollLength+t&&!(this.parentScroll instanceof Window)?i=e.scrollLength:i-=t,i=Math.max(0,i);let s=this.calculatePageInfo(i,e),n=this.calculatePadding(s.startIndexWithBuffer,e),l=e.scrollLength;return{startIndex:s.startIndex,endIndex:s.endIndex,startIndexWithBuffer:s.startIndexWithBuffer,endIndexWithBuffer:s.endIndexWithBuffer,padding:Math.round(n),scrollLength:Math.round(l),scrollStartPosition:s.scrollStartPosition,scrollEndPosition:s.scrollEndPosition,maxScrollPosition:s.maxScrollPosition}}}C.decorators=[{type:s.Component,args:[{selector:"virtual-scroller,[virtualScroller]",exportAs:"virtualScroller",template:'\n    <div class="total-padding" #invisiblePadding></div>\n    <div class="scrollable-content" #content>\n      <ng-content></ng-content>\n    </div>\n  ',host:{"[class.horizontal]":"horizontal","[class.vertical]":"!horizontal","[class.selfScroll]":"!parentScroll"},styles:["\n    :host {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t:host.horizontal.selfScroll {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t:host.vertical.selfScroll {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content ::ng-deep > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t:host.horizontal {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t:host.horizontal .scrollable-content {\n\t\tdisplay: flex;\n\t}\n\t\n\t:host.horizontal .scrollable-content ::ng-deep > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    :host.horizontal .total-padding {\n      height: 100%;\n    }\n  "]}]}],C.ctorParameters=(()=>[{type:s.ElementRef},{type:s.Renderer2},{type:s.NgZone},{type:s.ChangeDetectorRef},{type:Object,decorators:[{type:s.Inject,args:[s.PLATFORM_ID]}]},{type:void 0,decorators:[{type:s.Optional},{type:s.Inject,args:["virtual-scroller-default-options"]}]}]),C.propDecorators={executeRefreshOutsideAngularZone:[{type:s.Input}],enableUnequalChildrenSizes:[{type:s.Input}],useMarginInsteadOfTranslate:[{type:s.Input}],modifyOverflowStyleOfParentScroll:[{type:s.Input}],stripedTable:[{type:s.Input}],scrollbarWidth:[{type:s.Input}],scrollbarHeight:[{type:s.Input}],childWidth:[{type:s.Input}],childHeight:[{type:s.Input}],ssrChildWidth:[{type:s.Input}],ssrChildHeight:[{type:s.Input}],ssrViewportWidth:[{type:s.Input}],ssrViewportHeight:[{type:s.Input}],bufferAmount:[{type:s.Input}],scrollAnimationTime:[{type:s.Input}],resizeBypassRefreshThreshold:[{type:s.Input}],scrollThrottlingTime:[{type:s.Input}],scrollDebounceTime:[{type:s.Input}],checkResizeInterval:[{type:s.Input}],items:[{type:s.Input}],compareItems:[{type:s.Input}],horizontal:[{type:s.Input}],parentScroll:[{type:s.Input}],vsUpdate:[{type:s.Output}],vsChange:[{type:s.Output}],vsStart:[{type:s.Output}],vsEnd:[{type:s.Output}],contentElementRef:[{type:s.ViewChild,args:["content",{read:s.ElementRef,static:!1}]}],invisiblePaddingElementRef:[{type:s.ViewChild,args:["invisiblePadding",{read:s.ElementRef,static:!1}]}],headerElementRef:[{type:s.ContentChild,args:["header",{read:s.ElementRef,static:!1}]}],containerElementRef:[{type:s.ContentChild,args:["container",{read:s.ElementRef,static:!1}]}]};class k{}k.decorators=[{type:s.NgModule,args:[{exports:[C],declarations:[C],imports:[l.c],providers:[{provide:"virtual-scroller-default-options",useFactory:I}]}]}];const _={provide:n.q,useExisting:Object(s.forwardRef)(()=>P),multi:!0},T={provide:n.p,useExisting:Object(s.forwardRef)(()=>P),multi:!0},E=()=>{};class P{constructor(e,t,i){this._elementRef=e,this.cdr=t,this.ds=i,this.onSelect=new s.EventEmitter,this.onDeSelect=new s.EventEmitter,this.onSelectAll=new s.EventEmitter,this.onDeSelectAll=new s.EventEmitter,this.onOpen=new s.EventEmitter,this.onClose=new s.EventEmitter,this.onScrollToEnd=new s.EventEmitter,this.onFilterSelectAll=new s.EventEmitter,this.onFilterDeSelectAll=new s.EventEmitter,this.onAddFilterNewItem=new s.EventEmitter,this.onGroupSelect=new s.EventEmitter,this.onGroupDeSelect=new s.EventEmitter,this.virtualdata=[],this.searchTerm$=new r.b,this.isActive=!1,this.isSelectAll=!1,this.isFilterSelectAll=!1,this.isInfiniteFilterSelectAll=!1,this.chunkIndex=[],this.cachedItems=[],this.groupCachedItems=[],this.itemHeight=41.6,this.filterLength=0,this.infiniteFilterLength=0,this.dropdownListYOffset=0,this.id=Math.random().toString(36).substring(2),this.defaultSettings={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",filterSelectAllText:"Select all filtered results",filterUnSelectAllText:"UnSelect all filtered results",enableSearchFilter:!1,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"itemName",primaryKey:"id",position:"bottom",autoPosition:!0,enableFilterSelectAll:!0,selectGroup:!1,addNewItemOnFilter:!1,addNewButtonText:"Add",escapeToClose:!0,clearAll:!0},this.randomSize=!0,this.filteredList=[],this.virtualScroollInit=!1,this.isDisabledItemPresent=!1,this.onTouchedCallback=E,this.onChangeCallback=E,this.searchTerm$.asObservable().pipe(Object(o.a)(1e3),Object(h.a)(),Object(c.a)(e=>e)).subscribe(e=>{this.filterInfiniteList(e)})}onEscapeDown(e){this.settings.escapeToClose&&this.closeDropdown()}ngOnInit(){this.settings=Object.assign(this.defaultSettings,this.settings),this.cachedItems=this.cloneArray(this.data),"top"==this.settings.position&&setTimeout(()=>{this.selectedListHeight={val:0},this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight}),this.subscription=this.ds.getData().subscribe(e=>{if(e){let t=0;e.forEach((e,i)=>{e.disabled&&(this.isDisabledItemPresent=!0),e.hasOwnProperty("grpTitle")||t++}),this.filterLength=t,this.onFilterChange(e)}}),setTimeout(()=>{this.calculateDropdownDirection()}),this.virtualScroollInit=!1}ngOnChanges(e){e.data&&!e.data.firstChange&&(this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),0==this.data.length&&(this.selectedItems=[]),this.groupCachedItems=this.cloneArray(this.groupedData)),this.cachedItems=this.cloneArray(this.data)),e.settings&&!e.settings.firstChange&&(this.settings=Object.assign(this.defaultSettings,this.settings)),e.loading,this.settings.lazyLoading&&this.virtualScroollInit&&e.data&&(this.virtualdata=e.data.currentValue)}ngDoCheck(){this.selectedItems&&(0==this.selectedItems.length||0==this.data.length||this.selectedItems.length<this.data.length)&&(this.isSelectAll=!1)}ngAfterViewInit(){this.settings.lazyLoading}ngAfterViewChecked(){this.selectedListElem.nativeElement.clientHeight&&"top"==this.settings.position&&this.selectedListHeight&&(this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight,this.cdr.detectChanges())}onItemClick(e,t,i){if(e.disabled)return!1;if(this.settings.disabled)return!1;let s=this.isSelected(e),n=this.selectedItems.length<this.settings.limitSelection;s?(this.removeSelected(e),this.onDeSelect.emit(e)):this.settings.limitSelection?n&&(this.addSelected(e),this.onSelect.emit(e)):(this.addSelected(e),this.onSelect.emit(e)),(this.isSelectAll||this.data.length>this.selectedItems.length)&&(this.isSelectAll=!1),this.data.length==this.selectedItems.length&&(this.isSelectAll=!0),this.settings.groupBy&&this.updateGroupInfo(e)}validate(e){return null}writeValue(e){if(null!=e&&""!==e)if(this.settings.singleSelection)if(this.settings.groupBy)this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData),this.selectedItems=[e[0]];else try{if(e.length>1)throw this.selectedItems=[e[0]],new d(404,{msg:"Single Selection Mode, Selected Items cannot have more than one item."});this.selectedItems=e}catch(t){console.error(t.body.msg)}else this.settings.limitSelection?this.selectedItems=e.slice(0,this.settings.limitSelection):this.selectedItems=e,this.selectedItems.length===this.data.length&&this.data.length>0&&(this.isSelectAll=!0),this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData));else this.selectedItems=[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}trackByFn(e,t){return t[this.settings.primaryKey]}isSelected(e){if(e.disabled)return!1;let t=!1;return this.selectedItems&&this.selectedItems.forEach(i=>{e[this.settings.primaryKey]===i[this.settings.primaryKey]&&(t=!0)}),t}addSelected(e){e.disabled||(this.settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e),this.closeDropdown()):this.selectedItems.push(e),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems))}removeSelected(e){this.selectedItems&&this.selectedItems.forEach(t=>{e[this.settings.primaryKey]===t[this.settings.primaryKey]&&this.selectedItems.splice(this.selectedItems.indexOf(t),1)}),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems)}toggleDropdown(e){if(this.settings.disabled)return!1;this.isActive=!this.isActive,this.isActive?(this.settings.searchAutofocus&&this.searchInput&&this.settings.enableSearchFilter&&!this.searchTempl&&setTimeout(()=>{this.searchInput.nativeElement.focus()},0),this.onOpen.emit(!0)):this.onClose.emit(!1),setTimeout(()=>{this.calculateDropdownDirection()},0),this.settings.lazyLoading&&(this.virtualdata=this.data,this.virtualScroollInit=!0),e.preventDefault()}openDropdown(){if(this.settings.disabled)return!1;this.isActive=!0,this.settings.searchAutofocus&&this.searchInput&&this.settings.enableSearchFilter&&!this.searchTempl&&setTimeout(()=>{this.searchInput.nativeElement.focus()},0),this.onOpen.emit(!0)}closeDropdown(){this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.onClose.emit(!1)}closeDropdownOnClickOut(){this.isActive&&(this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.clearSearch(),this.onClose.emit(!1))}toggleSelectAll(e){this.isSelectAll?(this.settings.groupBy&&(this.groupedData.forEach(e=>{e.selected=!1}),this.groupCachedItems.forEach(e=>{e.selected=!1})),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)):(this.selectedItems=[],this.settings.groupBy&&(this.groupedData.forEach(e=>{e.selected=!e.disabled}),this.groupCachedItems.forEach(e=>{e.selected=!e.disabled})),this.selectedItems=this.data.filter(e=>!e.disabled),this.isSelectAll=!0,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onSelectAll.emit(this.selectedItems)),e.stopPropagation()}filterGroupedList(){""!=this.filter&&null!=this.filter?(this.groupedData=this.cloneArray(this.groupCachedItems),this.groupedData=this.groupedData.filter(e=>{let t=[];return t=e[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1?e.list:e.list.filter(e=>e[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1),e.list=t,e[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1?t:t.some(e=>e[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1)})):this.clearSearch()}toggleFilterSelectAll(){if(this.isFilterSelectAll){let e=[];this.settings.groupBy?this.ds.getFilteredData().forEach(t=>{this.isSelected(t)&&(this.removeSelected(t),e.push(t))}):this.ds.getFilteredData().forEach(t=>{this.isSelected(t)&&(this.removeSelected(t),e.push(t))}),this.isFilterSelectAll=!1,this.onFilterDeSelectAll.emit(e)}else{let e=[];this.settings.groupBy?this.ds.getFilteredData().forEach(t=>{this.isSelected(t)||t.hasOwnProperty("grpTitle")||(this.addSelected(t),e.push(t))}):this.ds.getFilteredData().forEach(t=>{this.isSelected(t)||(this.addSelected(t),e.push(t))}),this.isFilterSelectAll=!0,this.onFilterSelectAll.emit(e)}}toggleInfiniteFilterSelectAll(){this.isInfiniteFilterSelectAll?(this.virtualdata.forEach(e=>{this.isSelected(e)&&this.removeSelected(e)}),this.isInfiniteFilterSelectAll=!1):(this.virtualdata.forEach(e=>{this.isSelected(e)||this.addSelected(e)}),this.isInfiniteFilterSelectAll=!0)}clearSearch(){this.settings.groupBy&&(this.groupedData=[],this.groupedData=this.cloneArray(this.groupCachedItems)),this.filter="",this.isFilterSelectAll=!1}onFilterChange(e){(this.filter&&""==this.filter||0==e.length)&&(this.isFilterSelectAll=!1);let t=0;e.forEach(e=>{!e.hasOwnProperty("grpTitle")&&this.isSelected(e)&&t++}),t>0&&this.filterLength==t?this.isFilterSelectAll=!0:t>0&&this.filterLength!=t&&(this.isFilterSelectAll=!1),this.cdr.detectChanges()}cloneArray(e){if(Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"==typeof e)throw"Cannot clone array containing an object!";return e}updateGroupInfo(e){if(e.disabled)return!1;let t=this.settings.groupBy;this.groupedData.forEach(i=>{let s=0;i.grpTitle&&e[t]==i[t]&&i.list&&i.list.forEach(e=>{this.isSelected(e)&&s++}),i.list&&s===i.list.length&&e[t]==i[t]?i.selected=!0:i.list&&s!=i.list.length&&e[t]==i[t]&&(i.selected=!1)}),this.groupCachedItems.forEach(i=>{let s=0;i.grpTitle&&e[t]==i[t]&&i.list&&i.list.forEach(e=>{this.isSelected(e)&&s++}),i.list&&s===i.list.length&&e[t]==i[t]?i.selected=!0:i.list&&s!=i.list.length&&e[t]==i[t]&&(i.selected=!1)})}transformData(e,t){const i=e.reduce((e,i)=>(e[i[t]]?e[i[t]].push(i):e[i[t]]=[i],e),{}),s=[];return Object.keys(i).map(e=>{let t={},n=[];t.grpTitle=!0,t[this.settings.labelKey]=e,t[this.settings.groupBy]=e,t.selected=!1,t.list=[];let l=0;i[e].forEach(e=>{e.list=[],e.disabled&&(this.isDisabledItemPresent=!0,n.push(e)),t.list.push(e),this.isSelected(e)&&l++}),l==t.list.length?t.selected=!0:t.selected=!1,t.disabled=n.length===i[e].length,s.push(t)}),s}filterInfiniteList(e){let t=[];if(this.settings.groupBy?this.groupedData=this.groupCachedItems.slice():(this.data=this.cachedItems.slice(),this.virtualdata=this.cachedItems.slice()),(null!=e||""!=e)&&!this.settings.groupBy){if(this.settings.searchBy.length>0)for(let i=0;i<this.settings.searchBy.length;i++)this.virtualdata.filter(s=>{s[this.settings.searchBy[i].toString()].toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0&&t.push(s)});else this.virtualdata.filter(function(i){for(let s in i)if(i[s].toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0){t.push(i);break}});this.virtualdata=[],this.virtualdata=t,this.infiniteFilterLength=this.virtualdata.length}""!=e.toString()&&this.settings.groupBy?(this.groupedData.filter(function(i){if(i.hasOwnProperty("grpTitle"))t.push(i);else for(let s in i)if(i[s].toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0){t.push(i);break}}),this.groupedData=[],this.groupedData=t,this.infiniteFilterLength=this.groupedData.length):""==e.toString()&&this.cachedItems.length>0&&(this.virtualdata=[],this.virtualdata=this.cachedItems,this.infiniteFilterLength=0),this.virtualScroller.refresh()}resetInfiniteSearch(){this.filter="",this.isInfiniteFilterSelectAll=!1,this.virtualdata=[],this.virtualdata=this.cachedItems,this.groupedData=this.groupCachedItems,this.infiniteFilterLength=0}onScrollEnd(e){e.endIndex===this.data.length-1||e.startIndex,this.onScrollToEnd.emit(e)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectGroup(e){if(e.disabled)return!1;e.selected?(e.selected=!1,e.list.forEach(e=>{this.removeSelected(e)}),this.onGroupDeSelect.emit(e),this.updateGroupInfo(e)):(e.selected=!0,e.list.forEach(e=>{this.isSelected(e)||this.addSelected(e)}),this.onGroupSelect.emit(e),this.updateGroupInfo(e))}addFilterNewItem(){this.onAddFilterNewItem.emit(this.filter),this.filterPipe=new b(this.ds),this.filterPipe.transform(this.data,this.filter,this.settings.searchBy)}calculateDropdownDirection(){this.settings.position;if(this.settings.autoPosition){const e=this.dropdownListElem.nativeElement.clientHeight,t=document.documentElement.clientHeight,i=this.selectedListElem.nativeElement.getBoundingClientRect(),s=i.top;t-i.top<s&&e<s?this.openTowardsTop(!0):this.openTowardsTop(!1)}}openTowardsTop(e){e&&this.selectedListElem.nativeElement.clientHeight?this.dropdownListYOffset=15+this.selectedListElem.nativeElement.clientHeight:this.dropdownListYOffset=0}clearSelection(e){this.settings.groupBy&&this.groupCachedItems.forEach(e=>{e.selected=!1}),this.clearSearch(),this.selectedItems=[],this.onDeSelectAll.emit(this.selectedItems)}}P.decorators=[{type:s.Component,args:[{selector:"angular2-multiselect",template:'<div class="cuppa-dropdown" (clickOutside)="closeDropdownOnClickOut()">\n    <div class="selected-list" #selectedList>\n        <div class="c-btn" (click)="toggleDropdown($event)" [ngClass]="{\'disabled\': settings.disabled}" [attr.tabindex]="0">\n\n            <span *ngIf="selectedItems?.length == 0">{{settings.text}}</span>\n            <span *ngIf="settings.singleSelection && !badgeTempl">\n                <span *ngFor="let item of selectedItems;trackBy: trackByFn.bind(this);">\n                    {{item[settings.labelKey]}}\n                </span>\n            </span>\n            <span class="c-list" *ngIf="selectedItems?.length > 0 && settings.singleSelection && badgeTempl ">\n                <div class="c-token" *ngFor="let item of selectedItems;trackBy: trackByFn.bind(this);let k = index">\n                    <span *ngIf="!badgeTempl" class="c-label">{{item[settings.labelKey]}}</span>\n\n                    <span *ngIf="badgeTempl" class="c-label">\n                        <c-templateRenderer [data]="badgeTempl" [item]="item"></c-templateRenderer>\n                    </span>\n                    <span class="c-remove" (click)="onItemClick(item,k,$event);$event.stopPropagation()">\n                        <c-icon [name]="\'remove\'"></c-icon>\n                    </span>\n                </div>\n            </span>\n            <div class="c-list" *ngIf="selectedItems?.length > 0 && !settings.singleSelection">\n                <div class="c-token" *ngFor="let item of selectedItems;trackBy: trackByFn.bind(this);let k = index" [hidden]="k > settings.badgeShowLimit-1">\n                    <span *ngIf="!badgeTempl" class="c-label">{{item[settings.labelKey]}}</span>\n                    <span *ngIf="badgeTempl" class="c-label">\n                        <c-templateRenderer [data]="badgeTempl" [item]="item"></c-templateRenderer>\n                    </span>\n                    <span class="c-remove" (click)="onItemClick(item,k,$event);$event.stopPropagation()">\n                        <c-icon [name]="\'remove\'"></c-icon>\n                    </span>\n                </div>\n            </div>\n            <span class="countplaceholder" *ngIf="selectedItems?.length > settings.badgeShowLimit">+{{selectedItems?.length - settings.badgeShowLimit }}</span>\n            <span class="c-remove clear-all" *ngIf="settings.clearAll && selectedItems?.length > 0 && !settings.disabled" (click)="clearSelection($event);$event.stopPropagation()">\n                <c-icon [name]="\'remove\'"></c-icon>\n            </span>\n            <span *ngIf="!isActive" class="c-angle-down">\n                <c-icon [name]="\'angle-down\'"></c-icon>\n            </span>\n            <span *ngIf="isActive" class="c-angle-up">\n                <c-icon [name]="\'angle-up\'"></c-icon>\n\n            </span>\n        </div>\n    </div>\n    <div #dropdownList class="dropdown-list animated fadeIn" [ngClass]="{\'dropdown-list-top\': dropdownListYOffset}" [style.bottom.px]="dropdownListYOffset ? dropdownListYOffset : null"\n        [hidden]="!isActive">\n        <div [ngClass]="{\'arrow-up\': !dropdownListYOffset, \'arrow-down\': dropdownListYOffset}" class="arrow-2"></div>\n        <div [ngClass]="{\'arrow-up\': !dropdownListYOffset, \'arrow-down\': dropdownListYOffset}"></div>\n        <div class="list-area" [ngClass]="{\'single-select-mode\': settings.singleSelection }">\n            <div class="pure-checkbox select-all" *ngIf="settings.enableCheckAll && !settings.singleSelection && !settings.limitSelection && data?.length > 0 && !isDisabledItemPresent"\n                >\n                <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelectAll" [disabled]="settings.limitSelection == selectedItems?.length"\n                [id]="id" (change)="toggleSelectAll($event)"/>\n                <label [for]="id">\n                    <span [hidden]="isSelectAll">{{settings.selectAllText}}</span>\n                    <span [hidden]="!isSelectAll">{{settings.unSelectAllText}}</span>\n                </label>\n            </div>\n            <img class="loading-icon" *ngIf="loading" src="assets/img/loading.gif" />\n            <div class="list-filter" *ngIf="settings.enableSearchFilter">\n                <span class="c-search" id="searchIcon">\n                    <c-icon [name]="\'search\'"></c-icon>\n                </span>\n                <span *ngIf="!settings.lazyLoading" [hidden]="filter == undefined || filter?.length == 0" class="c-clear" (click)="clearSearch()">\n                    <c-icon [name]="\'clear\'"></c-icon>\n                </span>\n                <span *ngIf="settings.lazyLoading" [hidden]="filter == undefined || filter?.length == 0" class="c-clear" (click)="resetInfiniteSearch()">\n                    <c-icon [name]="\'clear\'"></c-icon>\n                </span>\n\n                <input class="c-input" *ngIf="settings.groupBy && !settings.lazyLoading && !searchTempl" #searchInput type="text" [placeholder]="settings.searchPlaceholderText"\n                    [(ngModel)]="filter" (keyup)="filterGroupedList()" aria-labelledby="searchIcon">\n                <input class="c-input" *ngIf="!settings.groupBy && !settings.lazyLoading && !searchTempl" #searchInput type="text" [placeholder]="settings.searchPlaceholderText"\n                    [(ngModel)]="filter" aria-labelledby="searchIcon">\n                <input class="c-input" *ngIf="settings.lazyLoading && !searchTempl" #searchInput type="text" [placeholder]="settings.searchPlaceholderText"\n                    [(ngModel)]="filter" (keyup)="searchTerm$.next($event.target.value)" aria-labelledby="searchIcon">\n                \x3c!--            <input class="c-input" *ngIf="!settings.lazyLoading && !searchTempl && settings.groupBy" #searchInput type="text" [placeholder]="settings.searchPlaceholderText"\n                [(ngModel)]="filter" (keyup)="filterGroupList($event)">--\x3e\n                <c-templateRenderer *ngIf="searchTempl" [data]="searchTempl" [item]="item"></c-templateRenderer>\n            </div>\n            <div class="filter-select-all" *ngIf="!settings.lazyLoading && settings.enableFilterSelectAll && !isDisabledItemPresent">\n                <div class="pure-checkbox select-all" *ngIf="!settings.groupBy && filter?.length > 0 && filterLength > 0" (click)="toggleFilterSelectAll()">\n                    <input type="checkbox" [checked]="isFilterSelectAll" [disabled]="settings.limitSelection == selectedItems?.length" aria-labelledby="optionName"\n                    aria-label="option"/>\n                    <label>\n                        <span [hidden]="isFilterSelectAll">{{settings.filterSelectAllText}}</span>\n                        <span [hidden]="!isFilterSelectAll">{{settings.filterUnSelectAllText}}</span>\n                    </label>\n                </div>\n                <div class="pure-checkbox select-all" *ngIf="settings.groupBy && filter?.length > 0 && groupedData?.length > 0" (click)="toggleFilterSelectAll()">\n                    <input type="checkbox" [checked]="isFilterSelectAll && filter?.length > 0" [disabled]="settings.limitSelection == selectedItems?.length"\n                    aria-labelledby="option"/>\n                    <label>\n                        <span [hidden]="isFilterSelectAll">{{settings.filterSelectAllText}}</span>\n                        <span [hidden]="!isFilterSelectAll">{{settings.filterUnSelectAllText}}</span>\n                    </label>\n                </div>\n                <label class="nodata-label" *ngIf="!settings.groupBy && filterLength == 0" [hidden]="filter == undefined || filter?.length == 0">{{settings.noDataLabel}}</label>\n                <label class="nodata-label" *ngIf="settings.groupBy && groupedData?.length == 0" [hidden]="filter == undefined || filter?.length == 0">{{settings.noDataLabel}}</label>\n\n                <div class="btn-container" *ngIf="settings.addNewItemOnFilter && filterLength == 0" [hidden]="filter == undefined || filter?.length == 0">\n                    <button class="c-btn btn-iceblue" (click)="addFilterNewItem()">{{settings.addNewButtonText}}</button>\n                </div>\n            </div>\n            <div class="filter-select-all" *ngIf="settings.lazyLoading && settings.enableFilterSelectAll && !isDisabledItemPresent">\n                <div class="pure-checkbox select-all" *ngIf="filter?.length > 0 && infiniteFilterLength > 0" (click)="toggleInfiniteFilterSelectAll()">\n                    <input type="checkbox" [checked]="isInfiniteFilterSelectAll" [disabled]="settings.limitSelection == selectedItems?.length"\n                    aria-labelledby="option"/>\n                    <label>\n                        <span [hidden]="isInfiniteFilterSelectAll">{{settings.filterSelectAllText}}</span>\n                        <span [hidden]="!isInfiniteFilterSelectAll">{{settings.filterUnSelectAllText}}</span>\n                    </label>\n                </div>\n            </div>\n\n            <div *ngIf="!settings.groupBy && !settings.lazyLoading && itemTempl == undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul class="lazyContainer">\n                    <li *ngFor="let item of data | listFilter:filter : settings.searchBy; let i = index;" (click)="onItemClick(item,i,$event)"\n                        class="pure-checkbox" [ngClass]="{\'selected-item\': isSelected(item) == true }">\n                        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                        aria-labelledby="option"/>\n                        <label>{{item[settings.labelKey]}}</label>\n                    </li>\n                </ul>\n            </div>\n            <div *ngIf="!settings.groupBy && settings.lazyLoading && itemTempl == undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul virtualScroller #scroll [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)"\n                    (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}" class="lazyContainer">\n                    <li *ngFor="let item of scroll.viewPortItems; let i = index;" (click)="onItemClick(item,i,$event)" class="pure-checkbox"\n                        [ngClass]="{\'selected-item\': isSelected(item) == true }">\n                        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                        />\n                        <label>{{item[settings.labelKey]}}</label>\n                    </li>\n                </ul>\n            </div>\n            <div *ngIf="!settings.groupBy && !settings.lazyLoading && itemTempl != undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul class="lazyContainer">\n                    <li *ngFor="let item of data | listFilter:filter : settings.searchBy; let i = index;" (click)="onItemClick(item,i,$event)"\n                        class="pure-checkbox" [ngClass]="{\'selected-item\': isSelected(item) == true }">\n                        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                        />\n                        <label></label>\n                        <c-templateRenderer [data]="itemTempl" [item]="item"></c-templateRenderer>\n                    </li>\n                </ul>\n            </div>\n            <div *ngIf="!settings.groupBy && settings.lazyLoading && itemTempl != undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul virtualScroller #scroll2 [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)"\n                    (vsEnd)="onScrollEnd($event)" class="lazyContainer" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}">\n                    <li *ngFor="let item of scroll2.viewPortItems; let i = index;" (click)="onItemClick(item,i,$event)" class="pure-checkbox"\n                        [ngClass]="{\'selected-item\': isSelected(item) == true }">\n                        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                        />\n                        <label></label>\n                        <c-templateRenderer [data]="itemTempl" [item]="item"></c-templateRenderer>\n                    </li>\n                </ul>\n            </div>\n            <div *ngIf="settings.groupBy && settings.lazyLoading && itemTempl != undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul virtualScroller #scroll3 [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)"\n                    (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}" class="lazyContainer">\n                    <span *ngFor="let item of scroll3.viewPortItems; let i = index;">\n                        <li (click)="onItemClick(item,i,$event)" *ngIf="!item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}"\n                            class="pure-checkbox">\n                            <input *ngIf="settings.showCheckbox && !settings.singleSelection" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                            />\n                            <label></label>\n                            <c-templateRenderer [data]="itemTempl" [item]="item"></c-templateRenderer>\n                        </li>\n                        <li *ngIf="item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}"\n                            class="pure-checkbox">\n                            <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                            />\n                            <label></label>\n                            <c-templateRenderer [data]="itemTempl" [item]="item"></c-templateRenderer>\n                        </li>\n                    </span>\n                </ul>\n            </div>\n            <div *ngIf="settings.groupBy && !settings.lazyLoading && itemTempl != undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul class="lazyContainer">\n                    <span *ngFor="let item of groupedData; let i = index;">\n                        <li (click)="selectGroup(item)" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}"\n                            class="pure-checkbox">\n                            <input *ngIf="settings.showCheckbox && !settings.singleSelection" type="checkbox" [checked]="item.selected" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                            />\n                            <label>{{item[settings.labelKey]}}</label>\n                            <ul class="lazyContainer">\n                                <span *ngFor="let val of item.list ; let j = index;">\n                                    <li (click)="onItemClick(val,j,$event); $event.stopPropagation()" [ngClass]="{\'grp-title\': val.grpTitle,\'grp-item\': !val.grpTitle && !settings.singleSelection}"\n                                        class="pure-checkbox">\n                                        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(val)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(val)) || val.disabled"\n                                        />\n                                        <label></label>\n                                        <c-templateRenderer [data]="itemTempl" [item]="val"></c-templateRenderer>\n                                    </li>\n                                </span>\n                            </ul>\n\n                        </li>\n                    </span>\n                </ul>\n            </div>\n            <div *ngIf="settings.groupBy && settings.lazyLoading && itemTempl == undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <virtual-scroller [items]="groupedData" (vsUpdate)="viewPortItems = $event" (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}">\n                    <ul virtualScroller #scroll4 [enableUnequalChildrenSizes]="randomSize" [items]="virtualdata" (vsStart)="onScrollEnd($event)"\n                        (vsEnd)="onScrollEnd($event)" [ngStyle]="{\'height\': settings.maxHeight+\'px\'}" class="lazyContainer">\n                        <span *ngFor="let item of scroll4.viewPortItems; let i = index;">\n                            <li *ngIf="item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection, \'selected-item\': isSelected(item) == true }"\n                                class="pure-checkbox">\n                                <input *ngIf="settings.showCheckbox && !item.grpTitle && !settings.singleSelection" type="checkbox" [checked]="isSelected(item)"\n                                    [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                                />\n                                <label>{{item[settings.labelKey]}}</label>\n                            </li>\n                            <li (click)="onItemClick(item,i,$event)" *ngIf="!item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection, \'selected-item\': isSelected(item) == true }"\n                                class="pure-checkbox">\n                                <input *ngIf="settings.showCheckbox && !item.grpTitle" type="checkbox" [checked]="isSelected(item)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                                />\n                                <label>{{item[settings.labelKey]}}</label>\n                            </li>\n                        </span>\n                    </ul>\n                </virtual-scroller>\n            </div>\n            <div *ngIf="settings.groupBy && !settings.lazyLoading && itemTempl == undefined" [style.maxHeight]="settings.maxHeight+\'px\'"\n                style="overflow: auto;">\n                <ul class="lazyContainer">\n                    <span *ngFor="let item of groupedData ; let i = index;">\n                        <li (click)="selectGroup(item)" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle && !settings.singleSelection}"\n                            class="pure-checkbox">\n                            <input *ngIf="settings.showCheckbox && !settings.singleSelection" type="checkbox" [checked]="item.selected" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(item)) || item.disabled"\n                            />\n                            <label>{{item[settings.labelKey]}}</label>\n                            <ul class="lazyContainer">\n                                <span *ngFor="let val of item.list ; let j = index;">\n                                    <li (click)="onItemClick(val,j,$event); $event.stopPropagation()" [ngClass]="{\'selected-item\': isSelected(val) == true,\'grp-title\': val.grpTitle,\'grp-item\': !val.grpTitle && !settings.singleSelection}"\n                                        class="pure-checkbox">\n                                        <input *ngIf="settings.showCheckbox" type="checkbox" [checked]="isSelected(val)" [disabled]="(settings.limitSelection == selectedItems?.length && !isSelected(val)) || val.disabled"\n                                        />\n                                        <label>{{val[settings.labelKey]}}</label>\n                                    </li>\n                                </span>\n                            </ul>\n                        </li>\n                    </span>\n                    \x3c!-- <span *ngFor="let item of groupedData ; let i = index;">\n                    <li (click)="onItemClick(item,i,$event)" *ngIf="!item.grpTitle" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle}" class="pure-checkbox">\n                    <input *ngIf="settings.showCheckbox && !item.grpTitle" type="checkbox" [checked]="isSelected(item)" [disabled]="settings.limitSelection == selectedItems?.length && !isSelected(item)"\n                    />\n                    <label>{{item[settings.labelKey]}}</label>\n                </li>\n                <li *ngIf="item.grpTitle && !settings.selectGroup" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle}" class="pure-checkbox">\n                    <input *ngIf="settings.showCheckbox && settings.selectGroup" type="checkbox" [checked]="isSelected(item)" [disabled]="settings.limitSelection == selectedItems?.length && !isSelected(item)"\n                    />\n                    <label>{{item[settings.labelKey]}}</label>\n                </li>\n                 <li  (click)="selectGroup(item)" *ngIf="item.grpTitle && settings.selectGroup" [ngClass]="{\'grp-title\': item.grpTitle,\'grp-item\': !item.grpTitle}" class="pure-checkbox">\n                    <input *ngIf="settings.showCheckbox && settings.selectGroup" type="checkbox" [checked]="item.selected" [disabled]="settings.limitSelection == selectedItems?.length && !isSelected(item)"\n                    />\n                    <label>{{item[settings.labelKey]}}</label>\n                </li>\n                </span> --\x3e\n                </ul>\n            </div>\n            <h5 class="list-message" *ngIf="data?.length == 0">{{settings.noDataLabel}}</h5>\n        </div>\n    </div>\n</div>',host:{"[class]":"defaultSettings.classes"},providers:[_,T],encapsulation:s.ViewEncapsulation.None,styles:["virtual-scroll{display:block;width:100%}.cuppa-dropdown{position:relative}.c-btn{display:inline-block;border-width:1px;line-height:1.25;border-radius:3px;font-size:.85rem;padding:5px 10px;cursor:pointer;align-items:center;min-height:38px}.c-btn.disabled{background:#ccc}.selected-list .c-list{float:left;padding:0;margin:0;width:calc(100% - 20px)}.selected-list .c-list .c-token{list-style:none;padding:4px 22px 4px 8px;border-radius:2px;margin-right:4px;margin-top:2px;float:left;position:relative}.selected-list .c-list .c-token .c-label{display:block;float:left}.selected-list .c-list .c-token .c-remove{position:absolute;right:8px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:8px}.selected-list .c-list .c-token .c-remove svg{fill:#fff}.selected-list .fa-angle-down,.selected-list .fa-angle-up{font-size:15pt;position:absolute;right:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.selected-list .c-angle-down,.selected-list .c-angle-up{width:12px;height:12px;position:absolute;right:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);pointer-events:none}.selected-list .c-angle-down svg,.selected-list .c-angle-up svg{fill:#333}.selected-list .countplaceholder{position:absolute;right:45px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.selected-list .c-btn{width:100%;padding:5px 10px;cursor:pointer;display:flex;position:relative}.selected-list .c-btn .c-icon{position:absolute;right:5px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.dropdown-list{position:absolute;padding-top:14px;width:100%;z-index:99999}.dropdown-list ul{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list ul li{padding:10px;cursor:pointer;text-align:left}.dropdown-list ul li:first-child{padding-top:10px}.dropdown-list ul li:last-child{padding-bottom:10px}.dropdown-list ::-webkit-scrollbar{width:8px}.dropdown-list ::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.dropdown-list ::-webkit-scrollbar-track{background:#f2f2f2}.arrow-down,.arrow-up{width:0;height:0;border-left:13px solid transparent;border-right:13px solid transparent;border-bottom:15px solid #fff;margin-left:15px;position:absolute;top:0}.arrow-down{bottom:-14px;top:unset;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.arrow-2{border-bottom:15px solid #ccc;top:-1px}.arrow-down.arrow-2{top:unset;bottom:-16px}.list-area{border:1px solid #ccc;border-radius:3px;background:#fff;margin:0}.select-all{padding:10px;border-bottom:1px solid #ccc;text-align:left}.list-filter{border-bottom:1px solid #ccc;position:relative;padding-left:35px;height:35px}.list-filter input{border:0;width:100%;height:100%;padding:0}.list-filter input:focus{outline:0}.list-filter .c-search{position:absolute;top:9px;left:10px;width:15px;height:15px}.list-filter .c-search svg{fill:#888}.list-filter .c-clear{position:absolute;top:10px;right:10px;width:15px;height:15px}.list-filter .c-clear svg{fill:#888}.pure-checkbox input[type=checkbox]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.pure-checkbox input[type=checkbox]:focus+label:before,.pure-checkbox input[type=checkbox]:hover+label:before{background-color:#f2f2f2}.pure-checkbox input[type=checkbox]:active+label:before{transition-duration:0s}.pure-checkbox input[type=checkbox]:disabled+label{color:#ccc}.pure-checkbox input[type=checkbox]+label{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;font-weight:300}.pure-checkbox input[type=checkbox]+label:before{box-sizing:content-box;content:'';position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:.4s;border-radius:3px}.pure-checkbox input[type=checkbox]+label:after{box-sizing:content-box;content:'';position:absolute;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50%;transform-origin:50%;transition:transform .2s ease-out,-webkit-transform .2s ease-out;background-color:transparent;top:50%;left:3px;width:9px;height:4px;margin-top:-5px;border-style:solid;border-width:0 0 2px 2px;-o-border-image:none;border-image:none;-webkit-transform:rotate(-45deg) scale(0);transform:rotate(-45deg) scale(0)}.pure-checkbox input[type=checkbox]:disabled+label:before{border-color:#ccc}.pure-checkbox input[type=checkbox]:disabled:focus+label:before .pure-checkbox input[type=checkbox]:disabled:hover+label:before{background-color:inherit}.pure-checkbox input[type=checkbox]:disabled:checked+label:before{background-color:#ccc}.pure-checkbox input[type=radio]:checked+label:before{background-color:#fff}.pure-checkbox input[type=radio]:checked+label:after{-webkit-transform:scale(1);transform:scale(1)}.pure-checkbox input[type=radio]+label:before{border-radius:50%}.pure-checkbox input[type=checkbox]:checked+label:after{content:'';transition:transform .2s ease-out,-webkit-transform .2s ease-out;-webkit-transform:rotate(-45deg) scale(1);transform:rotate(-45deg) scale(1)}.list-message{text-align:center;margin:0;padding:15px 0;font-size:initial}.list-grp{padding:0 15px!important}.list-grp h4{text-transform:capitalize;margin:15px 0 0;font-size:14px;font-weight:700}.list-grp>li{padding-left:15px!important}.grp-item{padding-left:30px!important}.grp-title{padding-bottom:0!important}.grp-title label{margin-bottom:0!important;font-weight:800;text-transform:capitalize}.grp-title:hover{background:0 0!important}.loading-icon{width:20px;position:absolute;right:10px;top:23px;z-index:1}.nodata-label{width:100%;text-align:center;padding:10px 0 0}.btn-container{text-align:center;padding:0 5px 10px}.clear-all{width:8px;position:absolute;top:50%;right:30px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}"]}]}],P.ctorParameters=(()=>[{type:s.ElementRef},{type:s.ChangeDetectorRef},{type:f}]),P.propDecorators={data:[{type:s.Input}],settings:[{type:s.Input}],loading:[{type:s.Input}],onSelect:[{type:s.Output,args:["onSelect"]}],onDeSelect:[{type:s.Output,args:["onDeSelect"]}],onSelectAll:[{type:s.Output,args:["onSelectAll"]}],onDeSelectAll:[{type:s.Output,args:["onDeSelectAll"]}],onOpen:[{type:s.Output,args:["onOpen"]}],onClose:[{type:s.Output,args:["onClose"]}],onScrollToEnd:[{type:s.Output,args:["onScrollToEnd"]}],onFilterSelectAll:[{type:s.Output,args:["onFilterSelectAll"]}],onFilterDeSelectAll:[{type:s.Output,args:["onFilterDeSelectAll"]}],onAddFilterNewItem:[{type:s.Output,args:["onAddFilterNewItem"]}],onGroupSelect:[{type:s.Output,args:["onGroupSelect"]}],onGroupDeSelect:[{type:s.Output,args:["onGroupDeSelect"]}],itemTempl:[{type:s.ContentChild,args:[v,{static:!1}]}],badgeTempl:[{type:s.ContentChild,args:[S,{static:!1}]}],searchTempl:[{type:s.ContentChild,args:[w,{static:!1}]}],searchInput:[{type:s.ViewChild,args:["searchInput",{static:!1}]}],selectedListElem:[{type:s.ViewChild,args:["selectedList",{static:!1}]}],dropdownListElem:[{type:s.ViewChild,args:["dropdownList",{static:!1}]}],onEscapeDown:[{type:s.HostListener,args:["document:keyup.escape",["$event"]]}],virtualScroller:[{type:s.ViewChild,args:[C,{static:!1}]}]};class D{}D.decorators=[{type:s.NgModule,args:[{imports:[l.c,n.m,k],declarations:[P,p,u,g,b,v,x,S,w,m,y],exports:[P,p,u,g,b,v,x,S,w,m,y],providers:[f]}]}]},"8vbM":function(e,t,i){"use strict";i.d(t,"c",function(){return s}),i.d(t,"d",function(){return n}),i.d(t,"b",function(){return l}),i.d(t,"a",function(){return r});const s=(e,t)=>{for(var i=e.split(","),s=i[0].match(/:(.*?);/)[1],n=atob(i[1]),l=n.length,r=new Uint8Array(l);l--;)r[l]=n.charCodeAt(l);return new File([r],t,{type:s})},n={singleSelection:!1,text:"Select Categories",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"myclass custom-class"},l=function(e){return Object.keys(e.controls).forEach(t=>{"string"==typeof e.get(t).value&&e.get(t).setValue(e.get(t).value.trim())}),e},r=["Adjuntas","Aguada","Aguadilla","Aguas Buenas","Aibonito","A\xf1asco","Arecibo","Arroyo","Barceloneta","Barranquitas","Bayam\xf3n","Cabo Rojo","Caguas","Camuy","Can\xf3vanas","Carolina","Cata\xf1o","Cayey","Ceiba","Ciales","Cidra","Coamo","Comer\xedo","Corozal","Culebra","Dorado","Fajardo","Florida","Gu\xe1nica","Guayama","Guayanilla","Guaynabo","Gurabo","Hatillo","Hormigueros","Humacao","Isabela","Jayuya","Juana D\xedaz","Juncos","Lajas","Lares","Las Mar\xedas","Las Piedras","Lo\xedza","Luquillo","Manat\xed","Maricao","Maunabo","Mayag\xfcez","Moca","Morovis","Naguabo","Naranjito","Orocovis","Patillas","Pe\xf1uelas","Ponce","Quebradillas","Rinc\xf3n","R\xedo Grande","Sabana Grande","Salinas","San Germ\xe1n","San Juan (capital)","San Lorenzo","San Sebasti\xe1n","Santa Isabel","Toa Alta","Toa Baja","Trujillo Alto","Utuado","Vega Alta","Vega Baja","Vieques","Villalba","Yabucoa","Yauco"]},Kj3r:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var s=i("7o/Q"),n=i("D0XW");function l(e,t=n.a){return i=>i.lift(new r(e,t))}class r{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends s.a{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(o,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function o(e){e.debouncedNext()}},aCrv:function(e,t,i){var s,n,l=function(){this._tweens={},this._tweensAddedDuringUpdate={}};l.prototype={getAll:function(){return Object.keys(this._tweens).map((function(e){return this._tweens[e]}).bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(e=void 0!==e?e:a.now();i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var n=this._tweens[i[s]];n&&!1===n.update(e)&&(n._isPlaying=!1,t||delete this._tweens[i[s]])}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var r,a=new l;a.Group=l,a._nextId=0,a.nextId=function(){return a._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?a.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?a.now=self.performance.now.bind(self.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=e,void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?a.now()+parseFloat(e):e:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,i,s;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=0===this._duration||i>1?1:i,s=this._easingFunction(i),this._valuesEnd)if(void 0!==this._valuesStart[t]){var n=this._valuesStart[t]||0,l=this._valuesEnd[t];l instanceof Array?this._object[t]=this._interpolationFunction(l,s):("string"==typeof l&&(l="+"===l.charAt(0)||"-"===l.charAt(0)?n+parseFloat(l):parseFloat(l)),"number"==typeof l&&(this._object[t]=n+(l-n)*s))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var r=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=r}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,o=this._chainedTweens.length;a<o;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-a.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*a.Easing.Bounce.In(2*e):.5*a.Easing.Bounce.Out(2*e-1)+.5}}},a.Interpolation={Linear:function(e,t){var i=e.length-1,s=i*t,n=Math.floor(s),l=a.Interpolation.Utils.Linear;return t<0?l(e[0],e[1],s):t>1?l(e[i],e[i-1],i-s):l(e[n],e[n+1>i?i:n+1],s-n)},Bezier:function(e,t){for(var i=0,s=e.length-1,n=Math.pow,l=a.Interpolation.Utils.Bernstein,r=0;r<=s;r++)i+=n(1-t,s-r)*n(t,r)*e[r]*l(s,r);return i},CatmullRom:function(e,t){var i=e.length-1,s=i*t,n=Math.floor(s),l=a.Interpolation.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(n=Math.floor(s=i*(1+t))),l(e[(n-1+i)%i],e[n],e[(n+1)%i],e[(n+2)%i],s-n)):t<0?e[0]-(l(e[0],e[0],e[1],e[1],-s)-e[0]):t>1?e[i]-(l(e[i],e[i],e[i-1],e[i-1],s-i)-e[i]):l(e[n?n-1:0],e[n],e[i<n+1?i:n+1],e[i<n+2?i:n+2],s-n)},Utils:{Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=a.Interpolation.Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:(r=[1],function(e){var t=1;if(r[e])return r[e];for(var i=e;i>1;i--)t*=i;return r[e]=t,t}),CatmullRom:function(e,t,i,s,n){var l=.5*(i-e),r=.5*(s-t),a=n*n;return(2*t-2*i+l+r)*(n*a)+(-3*t+3*i-2*l-r)*a+l*n+t}}},s=[],void 0===(n=(function(){return a}).apply(t,s))||(e.exports=n)}}]);